// Função para alternar entre mostrar e ocultar o texto
function toggleText(textId) {
    const textElement = document.getElementById(textId);
    const button = textElement.nextElementSibling;

    // Verifica se o texto está visível ou oculto
    if (textElement.style.maxHeight === "none") {
        // Se o texto estiver expandido, minimiza
        textElement.style.maxHeight = "80px";
        textElement.style.webkitLineClamp = "3";
        button.textContent = "Mostrar mais"; // Troca o texto do botão
    } else {
        // Se o texto estiver minimizado, expande
        textElement.style.maxHeight = "none";
        textElement.style.webkitLineClamp = "unset";
        button.textContent = "Mostrar menos"; // Troca o texto do botão
    }
}

// Função para adicionar desafios com o botão "Mostrar mais"
document.getElementById('addChallengeBtn').addEventListener('click', function () {
    const description = document.getElementById("challengeDescription").value;
    if (description.trim() !== "") {
        const challengesList = document.getElementById("challengesList");
        const newChallengeItem = document.createElement("li");

        const newText = document.createElement("p");
        newText.classList.add("text");
        newText.id = `challenge-text-${challengesList.children.length + 1}`;
        newText.textContent = description;
        newChallengeItem.appendChild(newText);

        const toggleBtn = document.createElement("button");
        toggleBtn.classList.add("toggle-btn");
        toggleBtn.textContent = "Mostrar mais";
        toggleBtn.onclick = function () {
            toggleText(newText.id);
        };
        newChallengeItem.appendChild(toggleBtn);

        challengesList.appendChild(newChallengeItem);
        document.getElementById("challengeDescription").value = ''; // Limpa o campo
    }
});

// Função para adicionar aprendizados com o botão "Mostrar mais"
document.getElementById('addLearningBtn').addEventListener('click', function () {
    const description = document.getElementById("learningDescription").value;
    if (description.trim() !== "") {
        const learningsList = document.getElementById("learningsList");
        const newLearningItem = document.createElement("li");

        const newText = document.createElement("p");
        newText.classList.add("text");
        newText.id = `learning-text-${learningsList.children.length + 1}`;
        newText.textContent = description;
        newLearningItem.appendChild(newText);

        const toggleBtn = document.createElement("button");
        toggleBtn.classList.add("toggle-btn");
        toggleBtn.textContent = "Mostrar mais";
        toggleBtn.onclick = function () {
            toggleText(newText.id);
        };
        newLearningItem.appendChild(toggleBtn);

        learningsList.appendChild(newLearningItem);
        document.getElementById("learningDescription").value = ''; // Limpa o campo
    }
});
